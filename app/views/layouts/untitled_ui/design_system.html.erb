<!DOCTYPE html>
<html class="h-full">
  <head>
    <title>Design System - Untitled UI</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags "untitled_ui" %>
  </head>
  <body class="min-h-full bg-secondary text-primary">
    <div class="flex min-h-dvh">
      <%# Sidebar %>
      <aside class="sticky top-0 h-dvh w-72 shrink-0 overflow-y-auto border-r border-secondary bg-primary px-6 py-8">
        <div class="mb-8">
          <%= link_to untitled_ui.design_system_components_path, class: "flex items-center gap-2 text-lg font-bold text-primary" do %>
            <svg class="size-6 text-brand-solid" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z" />
            </svg>
            Untitled UI
          <% end %>
          <p class="mt-1 text-sm text-tertiary">Component Library</p>
        </div>

        <%# Search %>
        <div class="mb-8">
          <%= form_with url: untitled_ui.design_system_components_path, method: :get, local: true, class: "relative" do |f| %>
            <svg class="pointer-events-none absolute left-3 top-2.5 size-4 text-fg-quaternary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
            </svg>
            <input type="search" name="q" value="<%= params[:q] %>" placeholder="Search components..." class="w-full rounded-lg border-0 bg-secondary py-2 pl-9 pr-3 text-sm text-primary ring-1 ring-primary ring-inset placeholder:text-placeholder focus:ring-2 focus:ring-brand outline-hidden" />
          <% end %>
        </div>

        <%# Nav %>
        <nav class="space-y-6 pb-8">
          <% UntitledUi::DesignSystem::ComponentsController::COMPONENTS.group_by { |c| c[:category] }.each do |category, components| %>
            <div>
              <h3 class="mb-3 text-xs font-semibold uppercase tracking-wider text-quaternary"><%= category %></h3>
              <ul class="space-y-1">
                <% components.each do |comp| %>
                  <li>
                    <%= link_to comp[:name],
                      untitled_ui.design_system_component_path(comp[:id]),
                      class: "block rounded-md px-3.5 py-2 text-sm font-medium transition #{comp[:id] == params[:id] ? 'bg-brand-primary_alt text-brand-secondary' : 'text-secondary hover:bg-primary_hover hover:text-secondary_hover'}" %>
                  </li>
                <% end %>
              </ul>
            </div>
          <% end %>
        </nav>
      </aside>

      <%# Main content %>
      <main class="flex-1 px-8 py-10 lg:px-12 lg:py-12">
        <%= yield %>
      </main>
    </div>
  </body>
</html>
