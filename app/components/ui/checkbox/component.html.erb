<label class="<%= cx('flex items-start', disabled && 'cursor-not-allowed', SIZE_STYLES.dig(size, :gap), extra_classes) %>"
       data-controller="checkbox">
  <input type="hidden" name="<%= name %>" value="0" <% if disabled %>disabled<% end %>>
  <input type="checkbox"
         class="sr-only peer"
         <% if name.present? %>name="<%= name %>"<% end %>
         <% if value.present? %>value="<%= value %>"<% end %>
         <% if checked %>checked<% end %>
         <% if disabled %>disabled<% end %>
         <% if indeterminate %>data-indeterminate="true"<% end %>
         data-checkbox-target="input"
         data-action="change->checkbox#toggle">

  <div class="<%= box_classes %>" data-checkbox-target="visual">
    <%# Indeterminate icon %>
    <svg class="<%= indeterminate_classes %>" viewBox="0 0 14 14" fill="none" aria-hidden="true">
      <path d="M2.91675 7H11.0834" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <%# Check icon %>
    <svg class="<%= check_classes %>" viewBox="0 0 14 14" fill="none" aria-hidden="true">
      <path d="M11.6666 3.5L5.24992 9.91667L2.33325 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>

  <% if label.present? || hint.present? %>
    <div class="inline-flex flex-col">
      <% if label.present? %>
        <p class="<%= cx('text-secondary select-none', SIZE_STYLES.dig(size, :label)) %>"><%= label %></p>
      <% end %>
      <% if hint.present? %>
        <span class="<%= cx('text-tertiary', SIZE_STYLES.dig(size, :hint)) %>"><%= hint %></span>
      <% end %>
    </div>
  <% end %>
</label>
